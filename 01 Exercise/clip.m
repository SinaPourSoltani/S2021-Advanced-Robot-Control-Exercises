function out = clip(val, min_lim, max_lim)
        out = max(min(val, max_lim), min_lim); 
end

